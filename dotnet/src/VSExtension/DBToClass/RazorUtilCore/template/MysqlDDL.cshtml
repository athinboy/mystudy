@using System.IO
@using System
@using System.Collections.Generic
@using System.Collections
@using Org.FGQ.CodeGenerate.Config
@inherits RazorEngineCore.RazorEngineTemplateBase<Org.FGQ.CodeGenerate.Config.Table>
/*
Date: @DateTime.Now
*/

-- Start--------------------------------@Model.Table.DBName.@Model.Table.TableNameSQL------------------
DROP TABLE if EXISTS @Model.Table.DBName.@Model.Table.TableNameSQL;


CREATE TABLE @Model.Table.DBName.@Model.Table.TableNameSQL ( 

@for (var i = 0; i < @Model.Table.Columns.Count; i++){
  var col2=@Model.Table.Columns[i];
  if( col2.Validate() ){

     WriteColumnDefine(col2);
     if(i!=@Model.Table.Columns.Count-1){
       @(",\r\n");
     }else{
     @("\r\n");
     } 
  } 
} 
)
ENGINE=InnoDB
DEFAULT CHARSET=utf8mb4
COLLATE=utf8mb4_general_ci
COMMENT='@Model.Table.Desc'
;

-- End--------------------------------@Model.Table.DBName.@Model.Table.TableNameSQL------------------ 

@{
  void WriteColumnDefine(Column col)
  {    
       @("   "+@col.NameSql+" " +@col.SqlType + " "+@col.NullStr()  +" COMMENT '"+@col.CommentStr()+"' "+@col.KeyStr()) 
  }
}